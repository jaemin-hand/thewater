# 그물 🎣🕸️

**그** 때의  
**물** 때...
🐟🐠🐡🫧

> *매일같이 출조出釣 나가는 당신만의 물고기 도감*

🥇삼성 청년 SW아카데미(SSAFY) 12th 특화 프로젝트 우수상🥇
ㅤ  
## 😊개발자 소개
<img src="/docs/asset/teams.png" width="600"/>

| developer  | role | git| etc.|
|--------|----------|---|-----------|
| 손재민 | FE       | - |     -     |
| 이국건 | Infra/FE | - |     -     |
| 이수정 | FE/BE    | - |     -     |
| 정주하 | AI/FE    | - |     -     |
| 조윤장 | AI/Data  | - |     -     |
| 황치운 | AI/BE    | - |     -     |

ㅤ
## 🗃️기술스택
### Front-End
![flutter](https://img.shields.io/badge/Flutter-02569B?style=for-the-badge&logo=flutter&logoColor=white)
![Figma](https://img.shields.io/badge/figma-%23F24E1E.svg?style=for-the-badge&logo=figma&logoColor=white)
![TensorFlow](https://img.shields.io/badge/TensorFlow-%23FF6F00.svg?style=for-the-badge&logo=TensorFlow&logoColor=white)
![KakaoTalk](https://img.shields.io/badge/kakaotalk-ffcd00.svg?style=for-the-badge&logo=kakaotalk&logoColor=000000)
![Google](https://img.shields.io/badge/google-4285F4?style=for-the-badge&logo=google&logoColor=white)
![Adobe](https://img.shields.io/badge/adobe-%23FF0000.svg?style=for-the-badge&logo=adobe&logoColor=white)
![Android Studio](https://img.shields.io/badge/android%20studio-346ac1?style=for-the-badge&logo=android%20studio&logoColor=white)

### Back-End & DB
![Java](https://img.shields.io/badge/java-%23ED8B00.svg?style=for-the-badge&logo=openjdk&logoColor=white)
![IntelliJ IDEA](https://img.shields.io/badge/IntelliJIDEA-000000.svg?style=for-the-badge&logo=intellij-idea&logoColor=white)
![spring boot](https://img.shields.io/badge/Spring_Boot-6DB33F?style=for-the-badge&logo=spring-boot&logoColor=white)
![Apache Tomcat](https://img.shields.io/badge/apache%20tomcat-%23F8DC75.svg?style=for-the-badge&logo=apache-tomcat&logoColor=black)
![mysql](https://img.shields.io/badge/MySQL-005C84?style=for-the-badge&logo=mysql&logoColor=white)
![Redis](https://img.shields.io/badge/redis-%23DD0031.svg?style=for-the-badge&logo=redis&logoColor=white)
![Swagger](https://img.shields.io/badge/-Swagger-%23Clojure?style=for-the-badge&logo=swagger&logoColor=white)
![Gmail](https://img.shields.io/badge/Gmail-D14836?style=for-the-badge&logo=gmail&logoColor=white)

### AI
![python](https://img.shields.io/badge/Python-FFD43B?style=for-the-badge&logo=python&logoColor=blue)
![Jupyter Notebook](https://img.shields.io/badge/jupyter-%23FA0F00.svg?style=for-the-badge&logo=jupyter&logoColor=white)
![Anaconda](https://img.shields.io/badge/Anaconda-%2344A833.svg?style=for-the-badge&logo=anaconda&logoColor=white)
![TensorFlow](https://img.shields.io/badge/TensorFlow-%23FF6F00.svg?style=for-the-badge&logo=TensorFlow&logoColor=white)
![PyTorch](https://img.shields.io/badge/PyTorch-%23EE4C2C.svg?style=for-the-badge&logo=PyTorch&logoColor=white)
![NumPy](https://img.shields.io/badge/numpy-%23013243.svg?style=for-the-badge&logo=numpy&logoColor=white)
![Matplotlib](https://img.shields.io/badge/Matplotlib-%23ffffff.svg?style=for-the-badge&logo=Matplotlib&logoColor=black)
![Keras](https://img.shields.io/badge/Keras-%23D00000.svg?style=for-the-badge&logo=Keras&logoColor=white)
![ChatGPT](https://img.shields.io/badge/chatGPT-74aa9c?style=for-the-badge&logo=openai&logoColor=white)
![LangChain](https://img.shields.io/badge/LangChain-1C3C3C?style=for-the-badge&logo=langchain&logoColor=white)
![Redis](https://img.shields.io/badge/redis-%23DD0031.svg?style=for-the-badge&logo=redis&logoColor=white)

### Infra
![jenkins](https://img.shields.io/badge/Jenkins-D24939?style=for-the-badge&logo=Jenkins&logoColor=white)
![docker](https://img.shields.io/badge/Docker-2CA5E0?style=for-the-badge&logo=docker&logoColor=white)
![AWS](https://img.shields.io/badge/AWS-%23FF9900.svg?style=for-the-badge&logo=amazon-aws&logoColor=white)
![Samsung](https://img.shields.io/badge/Samsung-%231428A0.svg?style=for-the-badge&logo=samsung&logoColor=white)

### Cooperation
![Notion](https://img.shields.io/badge/Notion-%23000000.svg?style=for-the-badge&logo=notion&logoColor=white)
![Jira](https://img.shields.io/badge/jira-%230A0FFF.svg?style=for-the-badge&logo=jira&logoColor=white)
![GitLab](https://img.shields.io/badge/gitlab-%23181717.svg?style=for-the-badge&logo=gitlab&logoColor=white)
![Google Drive](https://img.shields.io/badge/Google%20Drive-4285F4?style=for-the-badge&logo=googledrive&logoColor=white)

---

💻 1. 기여한 부분
⭐ 1) 수족관 메인 UI 및 인터랙션 구현
유저 정보, 수족관 가치, "더 많은.." 메뉴 등 상단 UI 구현

"더 많은.." 탭 클릭 시 애니메이션 메뉴 등장 (AnimationController, FadeTransition, SlideTransition 활용)

하단에서 물고기 선택 모달창이 자연스럽게 올라오도록 showModalBottomSheet 추가

⭐ 2) 물고기 애니메이션 로직 설계
FallingFish 클래스와 SwimmingFish 클래스를 설계해 물고기 낙하 ➝ 수영 상태 전환 처리

물고기가 떨어질 때 감속 애니메이션을 통해 현실적인 낙하 구현

Tween, Timer, progress 기반 속도 조절 등으로 애니메이션 정교화

⭐ 3) 물고기 수영 로직: 8방향 랜덤 이동 구현
물고기 낙하 후 수영 시작 시, 이동 방향을 상/하/좌/우/좌상/좌하/우상/우하(↗↘↙↖) 중 하나로 랜덤 지정

각 물고기마다 이동 시간(0~2초)과 멈춤 시간(2~5초)을 랜덤하게 계산해 자연스러운 수영 패턴 구현

각 방향별 (dx, dy) 벡터 계산 → 좌표 갱신

멈춤 상태에서도 Timer로 일정 시간 이후 자동 재이동되도록 로직 구성

다수의 물고기를 동시에 관리하기 위해 SwimmingFish 객체에 개별 상태(dx, dy, isPaused, pauseTimer, moveTimer) 포함

좌우 벽 충돌 시 방향 전환

⭐ 4) 물고기 추가 모달 기능 구현
사용자 맞춤형 모달 디자인 구현

핸들바(ㅡ) 추가하여 인터렉션이 가능하다는 직관적인 표현추가

Wrap UI로 다양한 물고기 선택 가능

선택 시 낙하 애니메이션 자동 실행

⭐ 5) 전체 애니메이션 통합 및 화면 구성
IndexedStack과 상태 관리로 하단 네비게이션 연동

수족관 페이지, 도감 페이지, 카메라 페이지 간 전환 흐름 설계

---

⚽ 2. 트러블슈팅 경험
❌문제 1: 물고기 낙하 후 이미지가 2개 보이는 이슈

상황 : 물고기 선택 후 낙하하면, 중앙에 낙하된 물고기와 헤엄치는 물고기 둘 다 보여서 중복 표시됨

해결: fish.top <= targetY - 2 조건을 추가하여 착수 시점 정확히 판별하고, fallingFishes에서 제거한 뒤 swimmingFishes에만 추가되도록 처리

❌ 문제 2: 낙하 속도 일정해서 어색함

해결: progress 값을 이용해 감속 구현 — currentSpeed = baseSpeed * (1 - progress)

물고기가 초반에 빠르게, 끝에서는 느리게 착수하게 함

❌ 문제 3: 모달창 크기가 작아서 몰입감 부족

해결: MediaQuery.of(context).size.width와 isScrollControlled: true 설정으로 모달을 양쪽에 꽉 차게 변경

상단에 Container(width: 40, height: 5) 추가하여 사용자가 "드래그 가능한 모달"로 인식하게끔 개선

---

회 go 

---

## 🐟주요 기능

### 🐳메인화면(어항)
<img src="docs/asset/어항영상.gif" width="600"/>

- 내가 잡은 물고기를 어항에 추가할 수 있음
- 동적인 물고기 움직임 구현

### 📖물고기 도감
<img src="docs/asset/도감.gif" width="450"/>
<img src="docs/asset/도감.png" width="450"/>

- 수집한 물고기 정보 저장 (어종 및 사진, 크기 환경 등)
- 수집한 물고기를 확인

---

### 🎣물고기종 분류 및 길이 측정

#### 물고기 분류
<img src="docs/asset/길이측정%20영상.gif" width="450"/>

- AR기술을 활용한 가늠자없는 길이측정
- ResNet50 AI를 활용하여 약 26종의 물고기 판별
- 데이터 증강기법 사용
- 94%의 정확도 달성

#### 데이터
<img src="docs/asset/data.png" width="450"/>

- 필터링 후 총 3228장의 이미지 학습

#### 길이측정
<img src="docs/asset/data_label.png" width="450"/>

- 데이터 라벨링 mask polygon 지정

<img src="docs/asset/mask.png" width="300"/>
<img src="docs/asset/mask2.png" width="300"/>

- Yolov8 Instance Segmentation을 이용해 윤곽 검출

<img src="docs/asset/길이측정픽셀.png" width="450"/>

- 물고기 길이 픽셀 측정

<img src="docs/asset/수식.png" width="300"/>

- AR기반 카메라와 물고기간 거리를 구해 실측거리 계산
- 가늠자 없는 Only Cam방식

---

#### OnDevice
<img src="docs/asset/QAT.png" width="450"/>

- 양자화 인지 학습 진행

<img src="docs/asset/TFLite.png" width="450"/>

- TFLite 변환

---

### 🚩낚시 포인트 정보 제공 (지도 형식)
<img src="docs/asset/낚시포인트.gif" width="450"/>
<img src="docs/asset/낚시포인트환경.png" width="450"/>

- 포인트 별 물때, 날씨, 수온, 출몰 어종 등 낚시에 필요한 정보 제공
- 낚시 포인트 공유 기능
- 나만의 낚시포인트 저장(환경 정보 제공)

---

### 🤖챗봇
<img src="docs/asset/챗봇.gif" width="450"/>

- Open AI를 활용한 챗봇
- 낚시 컨셉에 맞게 프롬프트하여 제작
- RAG 기반의 LLM 모델로 낚시 관련 전문 지식을 제공

---

### 부가 기능
- 방문자 수, 좋아요 수, 수족관 가치 확인 가능
- 방명록, 랭킹 기능 제공

---

#### 📱앱 컨셉
- 흑백과 포인트 컬러의 조합  
<img src="docs/asset/app_concept.png" width="450"/>
<img src="docs/asset/color.png" width="450"/>

---

## 📖명세서

### [💫UI Draft(Wire Frame)](https://www.figma.com/design/aFHv2WqsWfpDcSpTyc6GST/-%ED%8A%B9%ED%99%94-%ED%94%BC%EA%B7%B8%EB%A7%88-%EB%94%94%EC%9E%90%EC%9D%B8?node-id=0-1&p=f&t=fr7VlhcHYSwxK9Qv-0)

### [📖Sequence Diagram & Idea Board](https://www.figma.com/board/gpobQfMnjRWzcn9z3rZtBo/-%ED%8A%B9%ED%99%94-%ED%98%91%EC%97%85%EB%B3%B4%EB%93%9C?node-id=0-1&p=f&t=7M8H351F2Qwb2Ra1-0)

### 💾ERD
<img src="docs/asset/erd.png" width="800"/>

---

## 🎥 관련영상
[그물 앱 UCC](https://www.youtube.com/watch?v=zMpmVm-oTsA)
